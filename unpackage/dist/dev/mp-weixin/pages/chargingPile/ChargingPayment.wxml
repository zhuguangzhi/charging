<view class="charging-payment data-v-255291e2"><view class="charging-payment-header data-v-255291e2"><text class="title data-v-255291e2">{{"充电桩："+(pileInfo.name||"")}}</text><text class="port data-v-255291e2">{{"充电枪： "+(gunInfo.name||"")}}</text><text class="port data-v-255291e2">{{"地址："+(pileInfo.address||"")}}</text><view class="chargingBox data-v-255291e2"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['bindPickerChange',[index]]]]]}}" class="{{['chargingItem','data-v-255291e2',(pickerIndex===index)?'borderColor':'',(item.$orig.online!=1)?'disabledCharger':'',(item.$orig.status!=0)?'occupyCharger':'']}}" bindtap="__e"><text class="data-v-255291e2">{{item.m0}}</text><text class="chargingItem_state data-v-255291e2">{{item.m1}}</text></view></block></view></view><view class="charging-payment-money data-v-255291e2"><text class="data-v-255291e2">充电金额</text><text class="data-v-255291e2">（按时计费）</text><view class="chose-money data-v-255291e2"><block wx:for="{{moneyList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><text data-event-opts="{{[['tap',[['changeChose',[index]]]]]}}" class="{{['data-v-255291e2',currentMoneyIndex===index?'borderColor':'']}}" bindtap="__e">{{''+item.cost/100+'元'}}</text></block></view></view><view data-event-opts="{{[['tap',[['choseDiscount']]]]}}" class="charging-payment-discount data-v-255291e2" bindtap="__e"><text class="data-v-255291e2">{{discount.id==null?'优惠券':discount.desc}}</text><text class="data-v-255291e2">{{$root.g0+"张可用 >"}}</text></view><view class="charging-payment-discount data-v-255291e2"><text style="white-space:nowrap;" class="data-v-255291e2">收费规则</text><text class="data-v-255291e2">{{pileInfo.rule.memo}}</text></view><view class="charging-payment-confirm data-v-255291e2"><u-button class="theme data-v-255291e2" vue-id="f5ffa938-1" custom-style="{{({marginTop:'16rpx',marginLeft:'32rpx',marginRight:'32rpx',width:'calc(100% - 64rpx)'})}}" data-event-opts="{{[['^click',[['confirmPayment']]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">确认支付</u-button></view><u-popup class="charging-payment-discount-popup data-v-255291e2" vue-id="f5ffa938-2" closeable="{{false}}" show="{{couponShow}}" mode="bottom" border-radius="14" data-event-opts="{{[['^close',[['cancelCoupon']]],['^open',[['e0']]]]}}" bind:close="__e" bind:open="__e" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{$root.g1===0}}"><view style="height:20vh;text-align:center;padding-top:60px;" class="data-v-255291e2">暂无优惠券</view></block><block wx:else><scroll-view style="height:50vh;margin-top:16rpx;overflow:hidden;" scroll-y="true" class="data-v-255291e2"><view style="padding:16rpx;" class="data-v-255291e2"><block wx:for="{{discountList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><coupon-item vue-id="{{('f5ffa938-3-'+index)+','+('f5ffa938-2')}}" amount="{{item.money}}" name="{{item.name}}" availTo="{{item.couponExpired}}" data-event-opts="{{[['^click',[['selectCouponClick',['$0'],[[['discountList','',index]]]]]]]}}" bind:click="__e" class="data-v-255291e2" bind:__l="__l"></coupon-item></block></view></scroll-view></block><u-button class="theme data-v-255291e2" vue-id="{{('f5ffa938-4')+','+('f5ffa938-2')}}" custom-style="{{({marginTop:'16rpx',marginLeft:'32rpx',marginRight:'32rpx',color:'#fff',width:'calc(100% - 64rpx)'})}}" data-event-opts="{{[['^click',[['cancelCoupon']]]]}}" catch:click="__e" bind:__l="__l" vue-slots="{{['default']}}">取消使用优惠券</u-button></u-popup></view>